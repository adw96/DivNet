% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/betta_posthoc.R
\name{betta_posthoc}
\alias{betta_posthoc}
\title{Post-hoc pairwise comparisons and compact letter display from diversity test object}
\usage{
betta_posthoc(
  test_obj,
  metadata,
  p_adjust_method = "BH",
  alpha = 0.05,
  letter_set = LETTERS,
  human_sep = "."
)
}
\arguments{
\item{test_obj}{An object returned from the initial diversity test function (`betta()`).
This object must contain a formula accessible as `test_obj$function.args$formula`,
where the RHS defines the model terms used in `model.matrix`.}

\item{metadata}{A data frame containing the variables used in the model formula.
Each variable should correspond to a column used in `test_obj$function.args$formula`.}

\item{p_adjust_method}{Character string specifying the p-value adjustment method
(default `"BH"`). See `?p.adjust` for available methods.}

\item{alpha}{Numeric significance level used for compact letter display grouping (default `0.05`).}

\item{letter_set}{Character vector of letters or numbers used for compact letter display labels
(default `LETTERS`).}

\item{human_sep}{Character string used as separator for output group labels (default `"."`).}
}
\value{
A list with two components:
\describe{
  \item{results_df}{A data frame containing pairwise comparison results with columns:
    `group_1`, `group_2`, `Estimates`, `Standard Errors`, `Lower CIs`, `Upper CIs`,
    `p_value`, `p_adjusted`, and `significance`.}
  \item{cld_df}{A data frame containing group-level compact letter display labels.
    This data frame contains one row per group with columns corresponding to
    the original variables from the formula, a `cld` column for the letter code,
    and group-level estimates: `estimate`, `std_error`, `lower_ci`, `upper_ci`.}
}
}
\description{
Performs pairwise post-hoc linear combination tests based on a fitted betta model object
(`test_obj`) that contains a formula of the form `estimate ~ ...`. The function
extracts the model formula and metadata variables, constructs all pairwise
comparisons between levels, runs `betta_lincom()` on each linear contrast,
adjusts p-values, computes significance codes, and returns compact letter display (CLD)
indicating significantly different groups.
}
